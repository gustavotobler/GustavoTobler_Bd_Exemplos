<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Padaria do Alemão - Login</title>
    <link rel="stylesheet" type="text/css" href="css/site.css">
</head>
<body>

    <header>
        <h1>LOGIN</h1>
        <img src="img/Logopadaria.png" title="Logo Padaria" alt="Logo da Padaria">
    </header>

    <main>
        <form id="form">
            <label for="email">E-mail:</label>
            <input type="text" name="txtemail" id="email" class="inputs required" required>

            <label for="senha">Senha:</label>
            <input type="password" id="senha" name="senha" required>

            <button type="submit">Entrar</button>

            <a href="RECUP_SENHA.html" class="esqueceu-senha" id="esqueceu-senha">Esqueceu a senha?</a>
        </form>
    </main>

    <footer>
		<div class ="fonte">
        <strong>Copyright &copy; Alemões</strong>
		</div>
    </footer>

    <script>
        document.getElementById("form").addEventListener("submit", function(event) {
            event.preventDefault(); // evita o envio padrão do formulário

            const email = document.getElementById("email").value.toLowerCase();
            const senha = document.getElementById("senha").value;

            const funcionarios = [
                { nome: 'Peter Parker', email: 'peterparker@padaria.com', senha: 'atendente123' },
                { nome: 'Matue', email: 'matue@padaria.com', senha: 'atendente123' },
                { nome: 'Sergio Luiz', email: 'sergioluiz@padaria.com', senha: 'padeiro123' },
                { nome: 'Mbappe', email: 'mbappe@padaria.com', senha: 'padeiro123' },
                { nome: 'Tony Stark', email: 'tonystark@padaria.com', senha: 'caixa123' },
                { nome: 'Tim Maia', email: 'timmaia@padaria.com', senha: 'caixa123' },
                { nome: 'Kerry King', email: 'kerryking@padaria.com', senha: 'admin123' }
            ];

            const usuario = funcionarios.find(f => f.email === email && f.senha === senha);

            if (usuario) {
                const nivel = usuario.nome === 'Kerry King' ? 'admin' : 'funcionario';
                localStorage.setItem("nivel_usuario", nivel);

                if (nivel === "admin") {
                    window.location.href = "inicial1.html";
                } else {
                    window.location.href = "inicial2.html";
                }
            } else {
                alert("Email ou senha inválidos.");
            }
        });
    </script>

</body>
</html>
